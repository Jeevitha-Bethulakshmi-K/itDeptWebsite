<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="icon" type="image/x-icon" href="./Images/annaUniv.svg">
  <title>IT | Curriculum </title>
  <link rel="stylesheet" href="./CSS/navigator.css">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.8.1/font/bootstrap-icons.css"><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Noto+Sans">
  <script src="https://code.jquery.com/jquery-3.6.0.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script>
</head>
<body>
  <header>
    <img src="./Images/annaUniv.svg" alt="">
    <div class="heading">
    <div class="heading-title">Department of Information Technology</div>
    <div class="heading-dept">Anna University , MIT Campus</div>
    </div>
    <input type="checkbox" style="display:none"  id="nav-toggle" class="nav-toggle"> 
    <nav>
        <a href="./index.html">
          <i class="bi bi-house-door-fill"></i>
          Home
        </a>        
        <a href="#">
          <i class="bi bi-person-rolodex"></i>
          HOD's Desk</a>
        <a href="#">
          <i class="bi bi-images"></i>
          Gallery
        </a>
        <a href="./faculty.php">
          <i class="bi bi-people-fill"></i>
          Faculty</a>
        <a href="./students.html">
          <i class="bi bi-mortarboard-fill"></i>
          Students</a>
        <a href="#">
          <i class="bi bi-book-half"></i>
          Curriculum</a>
        <a href="./infrastructure.html">
          <i class="bi bi-building"></i>
          Infrastructure</a>
        <a href="#">
          <i class="bi bi-motherboard-fill"></i>
          Research</a>
        <a href="#">
          <i class="bi bi-puzzle"></i>
          Events</a>
          
    </nav>
    <label for="nav-toggle">
      <span></span><i class="bi bi-x-lg"></i>
    </label>
  </header>
  <div class="body-start intro-v2 curriculum-bg">
    <div class="intro-v2-content">
      <h1>Curriculum</h1>
      <p>The Departments of Anna University follow a well-formulated curriculum that has been put together with the guidance and valuable feedback of our strong alumni network, awarded teachers and working professionals. This ensures that every student under the University acquires the necessary skills and knowledge.</p>
    </div>
  </div>
  <div class="students-input">
    <input type="radio" name="degree" style="display:none;" id="ug" checked>
    <input type="radio" name="degree" style="display:none;" id="pgf">
    <input type="radio" name="degree" style="display:none;" id="pgt">
    <input type="radio" name="degree" style="display:none;" id="research1">
    <input type="radio" name="degree" style="display:none;" id="research2">
    <label class="students-input-element" for="ug">Under Graduate</label>
    <label class="students-input-element" for="pgf">Post Graduate(Full Time)</label>
    <label class="students-input-element" for="pgt">Post Graduate(Part Time)</label>
    <label class="students-input-element" for="research1">Research(M.S)</label>
    <label class="students-input-element" for="research2">Research(PhD)</label>
  </div>
  <div class="students-input"> 
    <h2 style="color: #ab3c35;padding-inline: 1em;">Curriculum :</h2>
    <select class="students-input-element" name="year" id="year">
    </select>
  </div>
  <iframe class="display-container" style="height:900px" id="curriculum-display"  id="currDispPDF"></iframe>
</body>
<script>
  const years={
    ug:['R-2019','R-2018','CBCS-2015','R-2012'],
    pgt:['R-2013','R-2009'],
    pgf:['CBCS-2015','R-2013','R-2009'],
    research1:['R-2015','R-2010'],
    research2:['R-2015','R-2010']
  }
  var year=years.ug[0];
  var deg='UG';
  function changeYears(){
    document.getElementById("year").innerHTML='';
    let y=(deg=="UG")?years.ug:(deg=="PGT")?years.pgt:(deg=="PGF")?years.pgf:(deg=="MS")?years.research1:years.research2;
    for(let i=0;i<y.length;i++){
      let opt=document.createElement('option');
      opt.value=y[i];
      opt.innerText=y[i];
      document.getElementById("year").add(opt);
    }
  }
  $(
    $.ajax({
      type:'POST',
      url:'./PHP/getCurriculum.php',
      data:{
        Degree:deg,
        Year:year
      },
      complete:(r)=>{
        try{
          document.getElementById("curriculum-display").src=r.responseText;
          changeYears();
        }catch(e){
          
        }
      }
    })
  );
  $("input[name='degree']").change(()=>{
    if($('#ug').is(":checked")){
      deg='UG';
      year=years.ug[0];
    }else if($('#pgt').is(":checked")){
     deg="PGT";
     year=years.pgt[0];
    }else if($('#pgf').is(":checked")){
     deg="PGF";
     year=years.pgf[0];
    }else if($('#research1').is(":checked")){
      deg="MS"
      year=years.research1[0];
    }else{
      deg="PHD";
      year=years.research2[0];
    };
    changeYears();
    $.ajax({
      type:'POST',
      url:'./PHP/getCurriculum.php',
      data:{
        Degree:deg,
        Year:year
      },
      complete:(r)=>{
        try{
          document.getElementById("curriculum-display").src=r.responseText;
        }catch(e){
          
        }
      }
    });
  });
  $("select[name='year']").change(()=>{
    year=document.getElementsByName('year')[0].value;
    $.ajax({
      type:'POST',
      url:'./PHP/getCurriculum.php',
      data:{
        Degree:deg,
        Year:year
      },
      complete:(r)=>{
        try{
          document.getElementById("curriculum-display").src=r.responseText;
        }catch(e){
          
        }
      }
    });
  });
  
</script>
</html>